<% http_verb, path = form_path(questionnaire, current_resource, 'data_info') %>
<p class='lead'>
  Unique Identifier: <%= questionnaire.uuid %>
</p>
<%= simple_form_for(current_resource, as: :data_info, method: http_verb, url: path, remote: true)   do |f| %>
  <div class='data_info_holder form-row '>
    <legend>
      Data Identification
    </legend>
    <%= f.input :questionnaire_id, as: :hidden, input_html: { value: questionnaire.id } %>
    <%= f.input :format, label: 'What are the format(s) of your data files?', required: true %>
    <%= f.label :size, 'What is the total size of your dataset?.*.' %>
    <div class='row'>
      <div class='col-md-4'>
        <%= f.input :size, label: false, required: true %>
      </div>
      <div class='col-md-4'>
        <%= f.label "Select unit: .*." %>
        <%= f.select :format, DataInfo::SIZE_FORMAT, { include_blank: 'Select unit' }, { class: 'size_format_select select', required: true }  %>
      </div>
    </div>

    <%= f.label :naming_convention, 'Please describe the file naming convention for this dataset, including an explanation of any abbreviations. If there is an existing document that explains the naming convention then you can provide a link or upload it here' %>
    <div class='row'>
      <div class='col-md-4'>
        <%= f.input :naming_convention_text, label: false, required: true %>
      </div>
      <div class='col-md-2'>
        <%= f.file_field :naming_convention, label: false %>
      </div>
    </div>
    <%= f.label :quality_assurance, 'Please provide any additional information on quality, data quality flags, known errors or other uncertainties that may be helpful to a user of the data.' %>
    <%= f.input :quality_assurance, label: false, required: true %>
    <%# <%= f.input :constraints, label: 'Constraints', hint: 'Are there any constraints as to how the data may be used?' %>
  </div>
  <%= render 'form_footer', questionnaire: questionnaire, previous_partial: previous_partial, form: f %>
<% end %>
